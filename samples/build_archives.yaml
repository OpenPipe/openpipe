start:
    - execute: rm -f archives/*
    - insert: { gzip: .gz, bzip2: .bz2, xz: .xz }
    - reduce: [cmd, ext]    # Maps dict items key,values to cmd, ext
    - send to:
        - create individual files
        - create compressed tar

create individual files:
    # Save context to resuse later
    - write to context:
    - read from file_list:  test.*
    - insert: { filename: $_$ }
    # Merge with context because we need to reuse $cmd$ and $ext$
    - merge: $ _ctx $
    - execute: $cmd$ -c $filename$ > archives/$filename$$ext$

create compressed tar:
    - execute: tar -cf - test.*| $cmd$ -c > archives/test.tar$ext$
